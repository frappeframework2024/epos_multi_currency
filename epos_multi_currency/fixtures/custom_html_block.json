[
 {
  "docstatus": 0,
  "doctype": "Custom HTML Block",
  "html": "\r\n<h2>Tabs</h2>\r\n<p>Click on the buttons inside the tabbed menu:</p>\r\n\r\n<div class=\"tab\">\r\n  <button class=\"tablinks\" id=\"btn_london\">London</button>\r\n  <button class=\"tablinks\" id=\"btn_paris\">Paris</button>\r\n</div>\r\n\r\n<div id=\"london\" class=\"tabcontent\">\r\n  <h3>London</h3>\r\n  <p>London is the capital city of England.</p>\r\n</div>\r\n\r\n<div id=\"paris\" class=\"tabcontent\">\r\n  <h3>Paris</h3>\r\n  <p>Paris is the capital of France.</p> \r\n</div>\r\n\r\n\r\n",
  "modified": "2023-09-16 16:44:31.958422",
  "name": "Test Tab",
  "private": 0,
  "roles": [],
  "script": "\r\nconsole.log(frappe.boot.user)\r\nlet london = root_element.querySelector('#btn_london');\r\nlet paris = root_element.querySelector('#btn_paris');\r\nlondon.addEventListener('click', function(event) {\r\n    openCity(event,'london')\r\n});\r\n\r\nparis.addEventListener('click', function(event) {\r\n    openCity(event,'paris')\r\n});\r\n\r\nfunction openCity(evt, cityName) {\r\n  var i, tabcontent, tablinks;\r\n  tabcontent = $(root_element).find('.tabcontent')\r\n  for (i = 0; i < tabcontent.length; i++) {\r\n    tabcontent[i].style.display = \"none\";\r\n  }\r\n  tablinks = $(root_element).find('.tablinks')\r\n  for (i = 0; i < tablinks.length; i++) {\r\n      \r\n    tablinks[i].className = tablinks[i].className.replace(\" active\", \"\");\r\n  }\r\n  $(root_element).find(\"#\" + cityName).css(\"display\", \"block\");\r\n  \r\n  console.log($(root_element).find(\"#\" + cityName))\r\n  \r\n  evt.currentTarget.className += \" active\";\r\n}",
  "style": "body {font-family: Arial;}\r\n\r\n/* Style the tab */\r\n.tab {\r\n  overflow: hidden;\r\n  border: 1px solid #ccc;\r\n  background-color: #f1f1f1;\r\n}\r\n\r\n/* Style the buttons inside the tab */\r\n.tab button {\r\n  background-color: inherit;\r\n  float: left;\r\n  border: none;\r\n  outline: none;\r\n  cursor: pointer;\r\n  padding: 14px 16px;\r\n  transition: 0.3s;\r\n  font-size: 17px;\r\n}\r\n\r\n/* Change background color of buttons on hover */\r\n.tab button:hover {\r\n  background-color: #ddd;\r\n}\r\n\r\n/* Create an active/current tablink class */\r\n.tab button.active {\r\n  background-color: #ccc;\r\n}\r\n\r\n/* Style the tab content */\r\n.tabcontent {\r\n  display: none;\r\n  padding: 6px 12px;\r\n  border: 1px solid #ccc;\r\n  border-top: none;\r\n}"
 },
 {
  "docstatus": 0,
  "doctype": "Custom HTML Block",
  "html": "<div class=\"container\">\r\n    <div class=\"row\">\r\n        <div class=\"col px-2 mr-4 py-2 rounded-lg today\">\r\n            <p class=\"text-center font-weight-bold\">Total Expense</p>\r\n            <div id=\"today_expense\"></div>\r\n        </div>\r\n        <div class=\"col px-2 mr-4 rounded-lg py-2 mtd\">\r\n             <p class=\"text-center font-weight-bold\">MTD Expense</p>\r\n             <div id=\"mtd_expense\"></div>\r\n        </div>\r\n        <div class=\"col px-2 mr-4 rounded-lg py-2 ytd\">\r\n            <p class=\"text-center font-weight-bold \">YTD Expense</p>\r\n            <div id=\"ytd_expense\"></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n",
  "modified": "2023-09-21 12:03:11.943154",
  "name": "Expense List",
  "private": 0,
  "roles": [
   {
    "parent": "Expense List",
    "parentfield": "roles",
    "parenttype": "Custom HTML Block",
    "role": "System Manager"
   },
   {
    "parent": "Expense List",
    "parentfield": "roles",
    "parenttype": "Custom HTML Block",
    "role": "Expense Manager"
   },
   {
    "parent": "Expense List",
    "parentfield": "roles",
    "parenttype": "Custom HTML Block",
    "role": "Expense User"
   }
  ],
  "script": "let today_expense = root_element.querySelector('#today_expense');\nlet mtd_expense = root_element.querySelector('#mtd_expense');\nlet ytd_expense = root_element.querySelector('#ytd_expense');\n\nfrappe.call('epos_multi_currency.utils.get_expense_kpi').then((r)=>{\n\n    r.message.today_expense.forEach(r=>{\n        let dom = document.createElement('div')\n        dom.classList.add('d-flex');\n        dom.classList.add('justify-content-between');\n        dom.classList.add('mx-5');\n        let label = document.createElement('span')\n        label.textContent=r.currency\n        dom.appendChild(label)\n        \n        let value = document.createElement('span')\n        value.textContent=r.total_amount\n        dom.appendChild(value)\n        today_expense.appendChild(dom)\n        \n    })\n    r.message.mtd_expense.forEach(r=>{\n        let dom = document.createElement('div')\n        dom.classList.add('d-flex');\n        dom.classList.add('justify-content-between');\n        dom.classList.add('mx-5');\n        let label = document.createElement('span')\n        label.textContent=r.currency\n        dom.appendChild(label)\n        \n         let value = document.createElement('span')\n        value.textContent=r.total_amount\n        dom.appendChild(value)\n        mtd_expense.appendChild(dom)\n        \n    })\n    r.message.ytd_expense.forEach(r=>{\n        let dom = document.createElement('div')\n        dom.classList.add('d-flex');\n        dom.classList.add('justify-content-between');\n        dom.classList.add('mx-5');\n        let label = document.createElement('span')\n        label.textContent=r.currency\n        dom.appendChild(label)\n        \n         let value = document.createElement('span')\n        value.textContent=r.total_amount\n        dom.appendChild(value)\n        ytd_expense.appendChild(dom)\n        \n    })\n})",
  "style": ".container{\n    font-family: ui-sans-serif;\n}\n.today{\n    background:#00A3A6;\n    color:#F3F3F3;\n}\n.mtd{\n    background:#00B103;\n    color:#F3F3F3;\n}\n.ytd{\n    background:#FF9E1D;\n    color:#F3F3F3;\n}\n.total_order{\n    background:#C21DFF;\n    color:#F3F3F3;\n}\n.container{\n    font-family: var(--font-stack);\n}\np{\n    font-size:18px;\n}"
 },
 {
  "docstatus": 0,
  "doctype": "Custom HTML Block",
  "html": "<div class=\"container\">\n    <div class=\"row\">\n        <div class=\"col px-2 mr-4 py-2 rounded-lg today\">\n            <p class=\"text-center font-weight-bold\">Total Revenue</p>\n            <div class=\"d-flex\">\n                <span class=\"flex-fill\">Label : </span>\n                <span  class=\"flex-fill\">12$</span>\n            </div>\n            <div class=\"d-flex\">\n                <span class=\"flex-fill\">Label : </span>\n                <span  class=\"flex-fill\">12$</span>\n            </div>\n            <div class=\"d-flex\">\n                 <span class=\"flex-fill\">Label : </span>\n                <span  class=\"flex-fill\">12$</span>\n            </div>\n        </div>\n        <div class=\"col px-2 mr-4 rounded-lg py-2 mtd\">\n             <p class=\"text-center font-weight-bold\">MTD Revenue</p>\n             <div class=\"d-flex\">\n                <span class=\"flex-fill\">Label : </span>\n                <span  class=\"flex-fill\">12$</span>\n            </div>\n            <div class=\"d-flex\">\n                <span class=\"flex-fill\">Label : </span>\n                <span  class=\"flex-fill\">12$</span>\n            </div>\n            <div class=\"d-flex\">\n                 <span class=\"flex-fill\">Label : </span>\n                <span  class=\"flex-fill\">12$</span>\n            </div>\n        </div>\n        <div class=\"col px-2 mr-4 rounded-lg py-2 ytd\">\n            <p class=\"text-center font-weight-bold \">YTD Revenue</p>\n            <div class=\"d-flex\">\n                <span class=\"flex-fill\">Label : </span>\n                <span  class=\"flex-fill\">12$</span>\n            </div>\n            <div class=\"d-flex\">\n                <span class=\"flex-fill\">Label : </span>\n                <span  class=\"flex-fill\">12$</span>\n            </div>\n            <div class=\"d-flex\">\n                 <span class=\"flex-fill\">Label : </span>\n                <span  class=\"flex-fill\">12$</span>\n            </div>\n        </div>\n        <div class=\"col px-2 py-2 rounded-lg total_order\">\n             <p class=\"text-center font-weight-bold\">MTD/YTD Total Order</p>\n             <div class=\"d-flex\">\n                <span class=\"flex-fill\">Label : </span>\n                <span  class=\"flex-fill\">12$</span>\n            </div>\n            <div class=\"d-flex\">\n                <span class=\"flex-fill\">Label : </span>\n                <span  class=\"flex-fill\">12$</span>\n            </div>\n            <div class=\"d-flex\">\n                 <span class=\"flex-fill\">Label : </span>\n                <span  class=\"flex-fill\">12$</span>\n            </div>\n        </div>\n    </div>\n</div>\n",
  "modified": "2023-09-13 10:10:51.094023",
  "name": "Selling Workspace Block",
  "private": 0,
  "roles": [
   {
    "parent": "Selling Workspace Block",
    "parentfield": "roles",
    "parenttype": "Custom HTML Block",
    "role": "System Manager"
   },
   {
    "parent": "Selling Workspace Block",
    "parentfield": "roles",
    "parenttype": "Custom HTML Block",
    "role": "Sales Manager"
   }
  ],
  "script": "let some_class_element = root_element.querySelector('.text-center');\n\nfrappe.db.get_value(\"Sales Invoice\",{name: 'ACC-SINV-2023-00381'},\"customer\",\n\t(r) => {\n\t    some_class_element.textContent (\"11111111111\")\n\t}\n);\n",
  "style": ".container{\n    font-family: ui-sans-serif;\n}\n.today{\n    background:#7AA874;\n}\n.mtd{\n    background:#F7DB6A;\n}\n.ytd{\n    background:#EBB02D;\n}\n.total_order{\n    background:#D864A9;\n}"
 },
 {
  "docstatus": 0,
  "doctype": "Custom HTML Block",
  "html": "\n<div class=\"tab\">\n  <button class=\"tablinks active\" id=\"btn_stock_in\">Stock In</button>\n  <button class=\"tablinks\" id=\"btn_transfer\">Stock Transfer</button>\n  <button class=\"tablinks\" id=\"btn_take\">Stock Take</button>\n  <button class=\"tablinks\" id=\"btn_adjustment\">Stock Adjustment</button>\n</div>\n\n<div id=\"stock_in\" class=\"tabcontent\">\n    <div id=\"recent-stock-in\">a</div>\n</div>\n\n<div id=\"transfer\" class=\"tabcontent\">\n    <div id=\"recent-transfer\">b</div>\n</div>\n\n<div id=\"take\" class=\"tabcontent\">\n    <div id=\"recent-take\">c</div>\n</div>\n<div id=\"adjustment\" class=\"tabcontent\">\n    <div id=\"recent-adjustment\">d</div>\n</div>\n\n\n",
  "modified": "2023-09-20 16:00:56.106295",
  "name": "Recent Stock Movement",
  "private": 1,
  "roles": [
   {
    "parent": "Recent Stock Movement",
    "parentfield": "roles",
    "parenttype": "Custom HTML Block",
    "role": "Stock Manager"
   },
   {
    "parent": "Recent Stock Movement",
    "parentfield": "roles",
    "parenttype": "Custom HTML Block",
    "role": "Stock User"
   }
  ],
  "script": "let stock_in = root_element.querySelector('#btn_stock_in');\r\nlet transfer = root_element.querySelector('#btn_transfer');\r\nlet take = root_element.querySelector('#btn_take');\r\nlet adjustment = root_element.querySelector('#btn_adjustment');\r\nstock_in.classList.add('active');\r\n$(root_element).find(\"#stock_in\").css(\"display\", \"block\");\r\nstock_in.addEventListener('click', function(event) {\r\n    tabHeaderClick(event,'stock_in')\r\n});\r\n\r\ntransfer.addEventListener('click', function(event) {\r\n    tabHeaderClick(event,'transfer')\r\n});\r\ntake.addEventListener('click', function(event) {\r\n    tabHeaderClick(event,'take')\r\n});\r\nadjustment.addEventListener('click', function(event) {\r\n    tabHeaderClick(event,'adjustment')\r\n});\r\n\r\nfunction set_align(element,value){\r\n   sym=[\"฿\",\"៛\",\"$\"]\r\n   val_sym = value.toString().replace(' ','').replace(/[-,.0-9]/g, '')\r\n   if (sym.includes(val_sym)){\r\n      element.classList.add('text_align_right');\r\n   }\r\n   else if(val_sym == \"\"){\r\n       element.classList.add('text_align_center');\r\n   }\r\n   else{\r\n      element.classList.add('text_align_left');\r\n   }\r\n }  \r\n\r\n\r\n\r\nfunction tabHeaderClick(evt, doctype) {\r\n  var i, tabcontent, tablinks;\r\n  tabcontent = $(root_element).find('.tabcontent')\r\n  for (i = 0; i < tabcontent.length; i++) {\r\n    tabcontent[i].style.display = \"none\";\r\n  }\r\n  tablinks = $(root_element).find('.tablinks')\r\n  for (i = 0; i < tablinks.length; i++) {\r\n      \r\n    tablinks[i].className = tablinks[i].className.replace(\" active\", \"\");\r\n  }\r\n  $(root_element).find(\"#\" + doctype).css(\"display\", \"block\");\r\n  \r\n  evt.currentTarget.className += \" active\";\r\n}\r\n//Stock In\r\nlet table    = document.createElement(\"table\");\r\nlet tbody = document.createElement(\"tbody\");\r\nlet thead = document.createElement(\"thead\");\r\nlet tr = document.createElement(\"tr\");\r\nlet th = document.createElement(\"th\");\r\nlet td = document.createElement(\"td\");\r\n\r\n//Stock Transfer\r\nlet transfer_table    = document.createElement(\"table\");\r\nlet transfer_tbody = document.createElement(\"tbody\");\r\nlet transfer_thead = document.createElement(\"thead\");\r\nlet transfer_tr = document.createElement(\"tr\");\r\nlet transfer_th = document.createElement(\"th\");\r\nlet transfer_td = document.createElement(\"td\");\r\n\r\n//Stock Take\r\nlet take_table    = document.createElement(\"table\");\r\nlet take_tbody = document.createElement(\"tbody\");\r\nlet take_thead = document.createElement(\"thead\");\r\nlet take_tr = document.createElement(\"tr\");\r\nlet take_th = document.createElement(\"th\");\r\nlet take_td = document.createElement(\"td\");\r\n\r\n//Stock Adjustment\r\nlet adjustment_table    = document.createElement(\"table\");\r\nlet adjustment_tbody = document.createElement(\"tbody\");\r\nlet adjustment_thead = document.createElement(\"thead\");\r\nlet adjustment_tr = document.createElement(\"tr\");\r\nlet adjustment_th = document.createElement(\"th\");\r\nlet adjustment_td = document.createElement(\"td\");\r\n\r\n\r\nfrappe.call('epos_multi_currency.utils.get_recent_stock').then((r)=>{\r\n    for (let key in r.message.stock_in[0]) {\r\n        if (r.message.stock_in[0].hasOwnProperty(key)) {\r\n            let value = r.message.stock_in[key];\r\n            th_currency = document.createElement(\"th\");\r\n            th_currency.textContent = key.replace(/_/g, ' ') \r\n            th_currency.classList.add('text_align_center');\r\n            tr.appendChild(th_currency)\r\n        }\r\n    }\r\n    thead.appendChild(tr)\r\n    r.message.stock_in.forEach((row)=>{\r\n        let data_row = document.createElement(\"tr\");\r\n        let data_cell_name = document.createElement(\"td\");\r\n        let data_cell_date = document.createElement(\"td\");\r\n        \r\n        data_cell_name.textContent=row.name;\r\n        data_cell_date.textContent=row.date;\r\n        \r\n        for (let key in row) {\r\n            \r\n            if (row.hasOwnProperty(key)) {\r\n                let value = row[key];\r\n                let data_cell_currency = document.createElement(\"td\");\r\n                set_align(data_cell_currency,value)\r\n                data_cell_currency.textContent=value;\r\n                data_row.appendChild(data_cell_currency);\r\n            }\r\n        }\r\n        data_row.addEventListener('click', function() {\r\n        \r\n            frappe.set_route('Form', 'Stock-in',row.name);\r\n        });\r\n        \r\n        tbody.appendChild(data_row);\r\n    });\r\n    \r\n    // Transfer\r\n    \r\n    for (let key in r.message.transfer[0]) {\r\n        if (r.message.transfer[0].hasOwnProperty(key)) {\r\n            let value = r.message.transfer[key];\r\n            let th_currency = document.createElement(\"th\");\r\n            th_currency.textContent = key.replace(/_/g, ' ') \r\n            th_currency.classList.add('text_align_center');\r\n            transfer_tr.appendChild(th_currency)\r\n        }\r\n        transfer_thead.appendChild(transfer_tr)\r\n    }\r\n    transfer_table.appendChild(transfer_thead);\r\n    r.message.transfer.forEach((row)=>{\r\n        let data_row = document.createElement(\"tr\");\r\n        let data_cell_name = document.createElement(\"td\");\r\n        let data_cell_date = document.createElement(\"td\");\r\n        \r\n        data_cell_name.textContent=row.name;\r\n        data_cell_date.textContent=row.transfer_date;\r\n        for (let key in row) {\r\n            if (row.hasOwnProperty(key)) {\r\n                let value = row[key];\r\n                let data_cell_currency = document.createElement(\"td\");\r\n                set_align(data_cell_currency,value)\r\n                data_cell_currency.textContent=value;\r\n                data_row.appendChild(data_cell_currency);\r\n            }\r\n        }\r\n        data_row.addEventListener('click', function() {\r\n            frappe.set_route('Form', 'stock-transfer',row.name);\r\n        });\r\n        transfer_tbody.appendChild(data_row);\r\n    });\r\n\r\n    // Take\r\n    for (let key in r.message.take[0]) {\r\n        if (r.message.take[0].hasOwnProperty(key)) {\r\n            th_currency = document.createElement(\"th\");\r\n            th_currency.textContent = key.replace(/_/g, ' ') ;\r\n            th_currency.classList.add('text_align_center');\r\n            take_tr.appendChild(th_currency);\r\n        }\r\n    }\r\n    take_thead.appendChild(take_tr)\r\n    r.message.take.forEach((row)=>{\r\n        let data_row = document.createElement(\"tr\");\r\n        let data_cell_name = document.createElement(\"td\");\r\n        let data_cell_date = document.createElement(\"td\");\r\n        \r\n        data_cell_name.textContent=row.name;\r\n        data_cell_date.textContent=row.stock_take_date;\r\n        for (let key in row) {\r\n            \r\n            if (row.hasOwnProperty(key)) {\r\n                let value = row[key];\r\n                let data_cell_currency = document.createElement(\"td\");\r\n                set_align(data_cell_currency,value)\r\n                data_cell_currency.textContent=value;\r\n                data_row.appendChild(data_cell_currency);\r\n            }\r\n        }\r\n        data_row.addEventListener('click', function() {\r\n            frappe.set_route('Form', 'stock-take',row.name)\r\n        });\r\n        take_tbody.appendChild(data_row)\r\n    })\r\n    //Adjustment\r\n     for (let key in r.message.adjustment[0]) {\r\n        if (r.message.adjustment[0].hasOwnProperty(key)) {\r\n            th_currency = document.createElement(\"th\");\r\n            th_currency.textContent = key.replace(/_/g, ' ') ;\r\n            th_currency.classList.add('text_align_center');\r\n            adjustment_tr.appendChild(th_currency);\r\n        }\r\n    }\r\n    adjustment_thead.appendChild(adjustment_tr)\r\n    r.message.adjustment.forEach((row)=>{\r\n        let data_row = document.createElement(\"tr\");\r\n        let data_cell_name = document.createElement(\"td\");\r\n        let data_cell_date = document.createElement(\"td\");\r\n        \r\n        data_cell_name.textContent=row.name;\r\n        data_cell_date.textContent=row.adjustment;\r\n        for (let key in row) {\r\n            \r\n            if (row.hasOwnProperty(key)) {\r\n                let value = row[key];\r\n                let data_cell_currency = document.createElement(\"td\");\r\n                if (key === \"difference\"){\r\n                    if(value > 0){\r\n                        data_cell_currency.classList.add('success')\r\n                    }else if(value < 0){\r\n                        data_cell_currency.classList.add('error')\r\n                    }\r\n                }\r\n                set_align(data_cell_currency,value)\r\n                data_cell_currency.textContent=value;\r\n                data_row.appendChild(data_cell_currency);\r\n            }\r\n        }\r\n        data_row.addEventListener('click', function() {\r\n            frappe.set_route('Form', 'stock-adjustment',row.name)\r\n        });\r\n        adjustment_tbody.appendChild(data_row)\r\n    })\r\n})\r\n\r\ntable.appendChild(thead)\r\ntable.appendChild(tbody)\r\ntransfer_table.appendChild(transfer_tbody)\r\ntake_table.appendChild(take_thead)\r\ntake_table.appendChild(take_tbody)\r\nadjustment_table.appendChild(adjustment_thead)\r\nadjustment_table.appendChild(adjustment_tbody)\r\nlet recentStockIn = root_element.querySelector('#recent-stock-in');\r\nlet recentTransfer = root_element.querySelector('#recent-transfer');\r\nlet recentTake = root_element.querySelector('#recent-take');\r\nlet recentAdjustment = root_element.querySelector('#recent-adjustment');\r\n\r\nrecentStockIn.innerHTML = \"\"\r\nrecentTransfer.innerHTML = \"\"\r\nrecentTake.innerHTML = \"\"\r\nrecentAdjustment.innerHTML = \"\"\r\nrecentStockIn.appendChild(table);\r\nrecentTransfer.appendChild(transfer_table);\r\nrecentTake.appendChild(take_table);\r\nrecentAdjustment.appendChild(adjustment_table);",
  "style": "body {font-family: Arial;}\r\n\r\n/* Style the tab */\r\n.tab {\r\n  overflow: hidden;\r\n  border: 1px solid #ccc;\r\n  background-color: #f1f1f1;\r\n}\r\n\r\n/* Style the buttons inside the tab */\r\n.tab button {\r\n  background-color: inherit;\r\n  float: left;\r\n  border: none;\r\n  outline: none;\r\n  cursor: pointer;\r\n  padding: 14px 16px;\r\n  transition: 0.3s;\r\n  font-size: 17px;\r\n}\r\n\r\n/* Change background color of buttons on hover */\r\n.tab button:hover {\r\n  background-color: #ddd;\r\n}\r\n\r\n/* Create an active/current tablink class */\r\n.tab button.active {\r\n  background-color: #ccc;\r\n}\r\n\r\n/* Style the tab content */\r\n.tabcontent {\r\n  display: none;\r\n  padding: 6px 6px;\r\n  border: 1px solid #ccc;\r\n  border-top: none;\r\n}\r\n\r\ntable{\r\n    width:100%;\r\n}\r\n td,th {\r\n  border: 1px solid #ddd;\r\n  padding: 8px;\r\n}\r\n\r\ntr:nth-child(even){background-color: #f2f2f2;}\r\n\r\ntr:hover {background-color: #ddd; cursor:pointer}\r\n\r\nth {\r\n  padding-top: 12px;\r\n  padding-bottom: 12px;\r\n  text-align: left;\r\n  background-color: #00A3A6;\r\n  color: white;\r\n  text-transform: capitalize\r\n}\r\n.success{\r\n    color:green;\r\n}\r\n.error{\r\n    color:red;\r\n}\r\n.text_align_right{\r\n    text-align: right;\r\n}\r\n.text_align_left{\r\n    text-align: left;\r\n}\r\n.text_align_center{\r\n    text-align: center;\r\n}"
 },
 {
  "docstatus": 0,
  "doctype": "Custom HTML Block",
  "html": "\n<div class=\"tab\">\n  <button class=\"tablinks active\" id=\"btn_expense\">Expense</button>\n  <button class=\"tablinks\" id=\"btn_expense_payment\">Expense Payment</button>\n</div>\n\n<div id=\"expense\" class=\"tabcontent\">\n    <div id=\"recent-expense\">a</div>\n</div>\n\n<div id=\"expense-payment\" class=\"tabcontent\">\n    <div id=\"recent-expense-payment\">b</div>\n</div>\n\n",
  "modified": "2023-09-21 12:05:22.569601",
  "name": "Recent Expense",
  "private": 1,
  "roles": [
   {
    "parent": "Recent Expense",
    "parentfield": "roles",
    "parenttype": "Custom HTML Block",
    "role": "Expense Manager"
   },
   {
    "parent": "Recent Expense",
    "parentfield": "roles",
    "parenttype": "Custom HTML Block",
    "role": "Expense User"
   }
  ],
  "script": "let expense = root_element.querySelector('#btn_expense');\r\nlet expense_payment = root_element.querySelector('#btn_expense_payment');\r\n\r\nexpense.classList.add('active');\r\n$(root_element).find(\"#expense\").css(\"display\", \"block\");\r\n\r\nexpense.addEventListener('click', function(event) {\r\n    tabHeaderClick(event,'expense')\r\n});\r\n\r\nexpense_payment.addEventListener('click', function(event) {\r\n    tabHeaderClick(event,'expense-payment')\r\n});\r\n\r\nfunction set_align(element,value){\r\n   sym=[\"฿\",\"៛\",\"$\"]\r\n   val_sym = value.toString().replace(' ','').replace(/[-,.0-9]/g, '')\r\n   if (sym.includes(val_sym)){\r\n      element.classList.add('text_align_right');\r\n   }\r\n   else if(val_sym == \"\"){\r\n       element.classList.add('text_align_center');\r\n   }\r\n   else{\r\n      element.classList.add('text_align_left');\r\n   }\r\n }  \r\n\r\nfunction tabHeaderClick(evt, doctype) {\r\n  var i, tabcontent, tablinks;\r\n  tabcontent = $(root_element).find('.tabcontent')\r\n  for (i = 0; i < tabcontent.length; i++) {\r\n    tabcontent[i].style.display = \"none\";\r\n  }\r\n  tablinks = $(root_element).find('.tablinks')\r\n  for (i = 0; i < tablinks.length; i++) {\r\n      \r\n    tablinks[i].className = tablinks[i].className.replace(\" active\", \"\");\r\n  }\r\n  $(root_element).find(\"#\" + doctype).css(\"display\", \"block\");\r\n  \r\n  evt.currentTarget.className += \" active\";\r\n}\r\n\r\nlet expense_table = document.createElement(\"table\");\r\nlet expense_tbody = document.createElement(\"tbody\");\r\nlet expense_thead = document.createElement(\"thead\");\r\nlet expense_tr = document.createElement(\"tr\");\r\nlet expense_th = document.createElement(\"th\");\r\nlet expense_td = document.createElement(\"td\");\r\n\r\n\r\nlet expense_payment_table    = document.createElement(\"table\");\r\nlet expense_payment_tbody = document.createElement(\"tbody\");\r\nlet expense_payment_thead = document.createElement(\"thead\");\r\nlet expense_payment_tr = document.createElement(\"tr\");\r\nlet expense_payment_th = document.createElement(\"th\");\r\nlet expense_payment_td = document.createElement(\"td\");\r\n\r\n\r\nfrappe.call('epos_multi_currency.utils.get_recent_expense_and_payment').then((r)=>{\r\n    for (let key in r.message.expense[0]) {\r\n        if (r.message.expense[0].hasOwnProperty(key)) {\r\n            let value = r.message.expense[key];\r\n            th_currency = document.createElement(\"th\");\r\n            th_currency.textContent = key.replace(/_/g, ' ') \r\n            th_currency.classList.add('text_align_center');\r\n            expense_tr.appendChild(th_currency)\r\n        }\r\n    }\r\n    expense_thead.appendChild(expense_tr)\r\n    r.message.expense.forEach((row)=>{\r\n        let data_row = document.createElement(\"tr\");\r\n        let data_cell_name = document.createElement(\"td\");\r\n        let data_cell_date = document.createElement(\"td\");\r\n        \r\n        data_cell_name.textContent=row.name;\r\n        data_cell_date.textContent=row.date;\r\n        \r\n        for (let key in row) {\r\n            \r\n            if (row.hasOwnProperty(key)) {\r\n                let value = row[key];\r\n                let data_cell_currency = document.createElement(\"td\");\r\n                set_align(data_cell_currency,value)\r\n                data_cell_currency.textContent=value;\r\n                data_row.appendChild(data_cell_currency);\r\n            }\r\n        }\r\n        data_row.addEventListener('click', function() {\r\n        \r\n            frappe.set_route('Form', 'Expense',row.expense);\r\n        });\r\n        \r\n        expense_tbody.appendChild(data_row);\r\n    });\r\n    \r\n    for (let key in r.message.expense_payment[0]) {\r\n        if (r.message.expense_payment[0].hasOwnProperty(key)) {\r\n            let value = r.message.expense_payment[key];\r\n            let th_currency = document.createElement(\"th\");\r\n            th_currency.classList.add('text_align_center');\r\n            th_currency.textContent = key.replace(/_/g, ' ') \r\n            expense_payment_tr.appendChild(th_currency)\r\n        }\r\n        expense_payment_thead.appendChild(expense_payment_tr)\r\n    }\r\n    expense_payment_table.appendChild(expense_payment_thead);\r\n    r.message.expense_payment.forEach((row)=>{\r\n        let data_row = document.createElement(\"tr\");\r\n        let data_cell_invocie = document.createElement(\"td\");\r\n        let data_cell_date = document.createElement(\"td\");\r\n        data_cell_invocie.textContent=row.name;\r\n        data_cell_date.textContent=row.payment_date;\r\n        for (let key in row) {\r\n            if (row.hasOwnProperty(key)) {\r\n                let value = row[key];\r\n                let data_cell_currency = document.createElement(\"td\");\r\n                set_align(data_cell_currency,value)\r\n                data_cell_currency.textContent=value;\r\n                data_row.appendChild(data_cell_currency);\r\n            }\r\n        }\r\n        data_row.addEventListener('click', function() {\r\n            frappe.set_route('Form', 'Expense Payment',row.document_number);\r\n        });\r\n        expense_payment_tbody.appendChild(data_row);\r\n    });\r\n})\r\n\r\nexpense_table.appendChild(expense_thead)\r\nexpense_table.appendChild(expense_tbody)\r\nexpense_payment_table.appendChild(expense_payment_thead)\r\nexpense_payment_table.appendChild(expense_payment_tbody)\r\nlet recent_expense = root_element.querySelector('#recent-expense');\r\nlet recent_expense_payment = root_element.querySelector('#recent-expense-payment');\r\n\r\nrecent_expense.innerHTML = \"\"\r\nrecent_expense_payment.innerHTML = \"\"\r\nrecent_expense.appendChild(expense_table);\r\nrecent_expense_payment.appendChild(expense_payment_table);",
  "style": "body {font-family: Arial;}\r\n\r\n/* Style the tab */\r\n.tab {\r\n  overflow: hidden;\r\n  border: 1px solid #ccc;\r\n  background-color: #f1f1f1;\r\n}\r\n\r\n/* Style the buttons inside the tab */\r\n.tab button {\r\n  background-color: inherit;\r\n  float: left;\r\n  border: none;\r\n  outline: none;\r\n  cursor: pointer;\r\n  padding: 14px 16px;\r\n  transition: 0.3s;\r\n  font-size: 17px;\r\n}\r\n\r\n/* Change background color of buttons on hover */\r\n.tab button:hover {\r\n  background-color: #ddd;\r\n}\r\n\r\n/* Create an active/current tablink class */\r\n.tab button.active {\r\n  background-color: #ccc;\r\n}\r\n\r\n/* Style the tab content */\r\n.tabcontent {\r\n  display: none;\r\n  padding: 6px 6px;\r\n  border: 1px solid #ccc;\r\n  border-top: none;\r\n}\r\n\r\ntable{\r\n    width:100%;\r\n}\r\n td,th {\r\n  border: 1px solid #ddd;\r\n  padding: 8px;\r\n}\r\n\r\ntr:nth-child(even){background-color: #f2f2f2;}\r\n\r\ntr:hover {background-color: #ddd; cursor:pointer}\r\n\r\nth {\r\n  padding-top: 12px;\r\n  padding-bottom: 12px;\r\n  text-align: left;\r\n  background-color: #00A3A6;\r\n  color: white;\r\n  text-transform: capitalize\r\n}\r\n.success{\r\n    color:green;\r\n}\r\n.error{\r\n    color:red;\r\n}\r\n.text_align_right{\r\n    text-align: right;\r\n}\r\n.text_align_left{\r\n    text-align: left;\r\n}\r\n.text_align_center{\r\n    text-align: center;\r\n}"
 },
 {
  "docstatus": 0,
  "doctype": "Custom HTML Block",
  "html": "<div id=\"report_block\" class=\"d-flex\"></div>\n",
  "modified": "2023-09-21 11:59:18.549978",
  "name": "Sale Report",
  "private": 0,
  "roles": [
   {
    "parent": "Sale Report",
    "parentfield": "roles",
    "parenttype": "Custom HTML Block",
    "role": "Accounts Manager"
   },
   {
    "parent": "Sale Report",
    "parentfield": "roles",
    "parenttype": "Custom HTML Block",
    "role": "Report Manager"
   },
   {
    "parent": "Sale Report",
    "parentfield": "roles",
    "parenttype": "Custom HTML Block",
    "role": "Report User"
   }
  ],
  "script": "let parser = new DOMParser();\n\nlet report_block = root_element.querySelector('#report_block');\nfrappe.db.get_list('ePos Multi Currency Report', \n    {\n        fields: ['name', 'report','doctype','report_name','parent_doctype','module','is_group','parent_epos_multi_currency_report'],\n        filters:{\"private\":0},\n        limit:100,\n        order_by:'sort_order'\n}).then(datas => {\n    console.log(datas)\n    datas.filter(r=>r.is_group==1).forEach(d=>{\n        frappe.call('epos_multi_currency.utils.get_allow_module').then((z)=>{\n            if(z.message.indexOf(d.module) != -1){\n                let el = getDOMTemplate(d.report_name)\n                datas.filter(x=>x.parent_epos_multi_currency_report==d.name).forEach(y=>{\n                   \n                    el.querySelector(\".widget-body\").appendChild(getReportLink(y))\n                })\n            report_block.appendChild(el)\n            }\n        })\n   \n   })\n});\n\nfunction createElement(type,css_class){\n    let el = document.createElement(type)\n    css_class.split(\",\").forEach(r=>{\n         el.classList.add(r)\n    })\n   \n    return el;\n}\n\nfunction getReportLink(report){\n    let dom = `<a class=\"link-item ellipsis  \" type=\"Link\" title=\"${report.report_name}\">\n\t<span class=\"indicator-pill no-margin gray\"></span>\n\t<span class=\"link-content ellipsis\">${report.report_name}</span>\n</a>`\nlet el =  parser.parseFromString(dom, \"text/html\").querySelector(\"a\")\n    el.addEventListener('click', function() {\n          viewReport(report)\n    });\n    return el \n}\nfunction getDOMTemplate(title){\n    let dom =`\n    <div class=\"ce-block col-xs-12 col-sm-6 col-md-4 my_card\" ><div class=\"ce-block__content\"><div card_name=\"Users\"><div class=\"widget links-widget-box\" data-widget-name=\"0f792bfd87\">\n    <div class=\"widget-head\">\n    <div class=\"widget-label\">\n    \t<div class=\"widget-title\"><span class=\"ellipsis\" title=\"${title}\">${title}</span></div>\n    \t<div class=\"widget-subtitle\"></div>\n    </div>\n    <div class=\"widget-control\"></div>\n    </div>\n    <div class=\"widget-body\">\n    \n    \t\n    \t</div>\n    <div class=\"widget-footer\"></div>\n    </div></div></div></div>\n    \n    `\n\nreturn parser.parseFromString(dom, \"text/html\").querySelector(\".my_card\")\n}\n\nfunction viewReport(report){\n    \n    let url =   \"http://192.168.10.138:3344/ReportServer_SQL2016/Pages/ReportViewer.aspx?%2fRetail%2f\"+report.name;\n    let msg = frappe.msgprint(\n        '<iframe src=\"' + url + '\" frameBorder=\"0\" width=\"100%\" height=\"650\" title=\"Print Barcode\"></iframe>',\n        report.report_name\n    );\n    msg.$wrapper.find('.modal-dialog').css(\"max-width\", \"90%\");\n}",
  "style": ""
 },
 {
  "docstatus": 0,
  "doctype": "Custom HTML Block",
  "html": "\n<div class=\"tab\">\n  <button class=\"tablinks active\" id=\"btn_sale\">Recent Sales</button>\n  <button class=\"tablinks\" id=\"btn_payment\">Recent Sales Payment</button>\n  <button class=\"tablinks\" id=\"btn_return\">Return</button>\n</div>\n\n<div id=\"sale\" class=\"tabcontent\">\n    <div id=\"recent-sale-invoice\">Recent Sale Invoice</div>\n</div>\n\n<div id=\"payment\" class=\"tabcontent\">\n    <div id=\"recent-payment\">Recent Payment</div>\n</div>\n\n<div id=\"return\" class=\"tabcontent\">\n    <div id=\"recent-return\">Return</div>\n</div>\n\n",
  "modified": "2023-09-20 16:01:59.980406",
  "name": "Recent Sales Invoice",
  "private": 1,
  "roles": [],
  "script": "let sale = root_element.querySelector('#btn_sale');\r\nlet payment = root_element.querySelector('#btn_payment');\r\nlet return_invoice = root_element.querySelector('#btn_return');\r\nsale.classList.add('active');\r\n$(root_element).find(\"#sale\").css(\"display\", \"block\");\r\nsale.addEventListener('click', function(event) {\r\n    openCity(event,'sale')\r\n});\r\n\r\npayment.addEventListener('click', function(event) {\r\n    openCity(event,'payment')\r\n});\r\nreturn_invoice.addEventListener('click', function(event) {\r\n    openCity(event,'return')\r\n});\r\n\r\nfunction set_align(element,value){\r\n   sym=[\"฿\",\"៛\",\"$\"]\r\n   val_sym = value.toString().replace(' ','').replace(/[-,.0-9]/g, '')\r\n   if (sym.includes(val_sym)){\r\n      element.classList.add('text_align_right');\r\n   }\r\n   else if(val_sym == \"\"){\r\n       element.classList.add('text_align_center');\r\n   }\r\n   else{\r\n      element.classList.add('text_align_left');\r\n   }\r\n } \r\n\r\nfunction openCity(evt, doctype) {\r\n  var i, tabcontent, tablinks;\r\n  tabcontent = $(root_element).find('.tabcontent')\r\n  for (i = 0; i < tabcontent.length; i++) {\r\n    tabcontent[i].style.display = \"none\";\r\n  }\r\n  tablinks = $(root_element).find('.tablinks')\r\n  for (i = 0; i < tablinks.length; i++) {\r\n      \r\n    tablinks[i].className = tablinks[i].className.replace(\" active\", \"\");\r\n  }\r\n  $(root_element).find(\"#\" + doctype).css(\"display\", \"block\");\r\n  \r\n  evt.currentTarget.className += \" active\";\r\n}\r\n\r\nlet table    = document.createElement(\"table\");\r\nlet tbody = document.createElement(\"tbody\");\r\nlet thead = document.createElement(\"thead\");\r\nlet tr = document.createElement(\"tr\");\r\nlet th = document.createElement(\"th\");\r\nlet td = document.createElement(\"td\");\r\n\r\nlet payment_table    = document.createElement(\"table\");\r\nlet payment_tbody = document.createElement(\"tbody\");\r\nlet payment_thead = document.createElement(\"thead\");\r\nlet payment_tr = document.createElement(\"tr\");\r\nlet payment_th = document.createElement(\"th\");\r\nlet payment_td = document.createElement(\"td\");\r\n\r\nlet return_table    = document.createElement(\"table\");\r\nlet return_tbody = document.createElement(\"tbody\");\r\nlet return_thead = document.createElement(\"thead\");\r\nlet return_tr = document.createElement(\"tr\");\r\nlet return_th = document.createElement(\"th\");\r\nlet return_td = document.createElement(\"td\");\r\n\r\n\r\nfrappe.call('epos_multi_currency.utils.get_recent_sale_invoice').then((r)=>{\r\n    for (let key in r.message.sale[0]) {\r\n        if (r.message.sale[0].hasOwnProperty(key)) {\r\n            let value = r.message.sale[key];\r\n            th_currency = document.createElement(\"th\");\r\n            th_currency.classList.add('text_align_center');\r\n            th_currency.textContent = key.replace(/_/g, ' ') \r\n            tr.appendChild(th_currency)\r\n        }\r\n    }\r\n    thead.appendChild(tr)\r\n    r.message.sale.forEach((row)=>{\r\n        let data_row = document.createElement(\"tr\");\r\n        let data_cell_invocie = document.createElement(\"td\");\r\n        let data_cell_date = document.createElement(\"td\");\r\n        data_cell_invocie.textContent=row.sales_invoice;\r\n        data_cell_date.textContent=row.sale_date;\r\n        \r\n        for (let key in row) {\r\n            \r\n            if (row.hasOwnProperty(key)) {\r\n                let value = row[key];\r\n                let data_cell_currency = document.createElement(\"td\");\r\n                set_align(data_cell_currency,value)\r\n                data_cell_currency.textContent=value;\r\n                data_row.appendChild(data_cell_currency);\r\n            }\r\n        }\r\n        data_row.addEventListener('click', function() {\r\n        \r\n            frappe.set_route('Form', 'Sales Invoice',row.name);\r\n        });\r\n        \r\n        tbody.appendChild(data_row);\r\n    });\r\n    \r\n    // Payment\r\n    \r\n    for (let key in r.message.payment[0]) {\r\n        if (r.message.payment[0].hasOwnProperty(key)) {\r\n            let value = r.message.payment[key];\r\n            let th_currency = document.createElement(\"th\");\r\n             th_currency.classList.add('text_align_center');\r\n            th_currency.textContent = key.replace(/_/g, ' ') \r\n            payment_tr.appendChild(th_currency)\r\n        }\r\n        payment_thead.appendChild(payment_tr)\r\n    }\r\n    payment_table.appendChild(payment_thead);\r\n    r.message.payment.forEach((row)=>{\r\n        let data_row = document.createElement(\"tr\");\r\n        let data_cell_invocie = document.createElement(\"td\");\r\n        let data_cell_date = document.createElement(\"td\");\r\n        \r\n        data_cell_invocie.textContent=row.name;\r\n        data_cell_date.textContent=row.payment_date;\r\n        for (let key in row) {\r\n            if (row.hasOwnProperty(key)) {\r\n                let value = row[key];\r\n                let data_cell_currency = document.createElement(\"td\");\r\n                 set_align(data_cell_currency,value)\r\n                data_cell_currency.textContent=value;\r\n                data_row.appendChild(data_cell_currency);\r\n            }\r\n        }\r\n        data_row.addEventListener('click', function() {\r\n            frappe.set_route('Form', 'Sales Payment',row.name);\r\n        });\r\n        payment_tbody.appendChild(data_row);\r\n    });\r\n\r\n    // Return\r\n    for (let key in r.message.sale_return[0]) {\r\n        if (r.message.sale_return[0].hasOwnProperty(key)) {\r\n            let value = r.message.sale[key];\r\n            th_currency = document.createElement(\"th\");\r\n             th_currency.classList.add('text_align_center');\r\n            th_currency.textContent = key.replace(/_/g, ' ') ;\r\n            return_tr.appendChild(th_currency);\r\n        }\r\n    }\r\n    return_thead.appendChild(return_tr)\r\n    r.message.sale_return.forEach((row)=>{\r\n        console.log(r.message.sale_return)\r\n        let data_row = document.createElement(\"tr\");\r\n        let data_cell_invocie = document.createElement(\"td\");\r\n        let data_cell_date = document.createElement(\"td\");\r\n        \r\n        data_cell_invocie.textContent=row.name;\r\n        data_cell_date.textContent=row.return_date;\r\n        for (let key in row) {\r\n            \r\n            if (row.hasOwnProperty(key)) {\r\n                let value = row[key];\r\n                let data_cell_currency = document.createElement(\"td\");\r\n                 set_align(data_cell_currency,value)\r\n                data_cell_currency.textContent=value;\r\n                data_row.appendChild(data_cell_currency);\r\n            }\r\n        }\r\n        data_row.addEventListener('click', function() {\r\n        \r\n            frappe.set_route('Form', 'Sales Invoice',row.name)\r\n        });\r\n        return_tbody.appendChild(data_row)\r\n    })\r\n})\r\n\r\ntable.appendChild(thead)\r\ntable.appendChild(tbody)\r\npayment_table.appendChild(payment_tbody)\r\nreturn_table.appendChild(return_thead)\r\nreturn_table.appendChild(return_tbody)\r\nlet recentSale = root_element.querySelector('#recent-sale-invoice');\r\nlet recentPayment = root_element.querySelector('#recent-payment');\r\nlet recentReturn = root_element.querySelector('#recent-return');\r\n\r\nrecentSale.innerHTML = \"\"\r\nrecentPayment.innerHTML = \"\"\r\nrecentReturn.innerHTML = \"\"\r\nrecentSale.appendChild(table);\r\nrecentPayment.appendChild(payment_table);\r\nrecentReturn.appendChild(return_table);",
  "style": "body {font-family: Arial;}\r\n\r\n/* Style the tab */\r\n.tab {\r\n  overflow: hidden;\r\n  border: 1px solid #ccc;\r\n  background-color: #f1f1f1;\r\n}\r\n\r\n/* Style the buttons inside the tab */\r\n.tab button {\r\n  background-color: inherit;\r\n  float: left;\r\n  border: none;\r\n  outline: none;\r\n  cursor: pointer;\r\n  padding: 14px 16px;\r\n  transition: 0.3s;\r\n  font-size: 17px;\r\n}\r\n\r\n/* Change background color of buttons on hover */\r\n.tab button:hover {\r\n  background-color: #ddd;\r\n}\r\n\r\n/* Create an active/current tablink class */\r\n.tab button.active {\r\n  background-color: #ccc;\r\n}\r\n\r\n/* Style the tab content */\r\n.tabcontent {\r\n  display: none;\r\n  padding: 6px 6px;\r\n  border: 1px solid #ccc;\r\n  border-top: none;\r\n}\r\n\r\ntable{\r\n    width:100%;\r\n}\r\n td,th {\r\n  border: 1px solid #ddd;\r\n  padding: 8px;\r\n}\r\n\r\ntr:nth-child(even){background-color: #f2f2f2;}\r\n\r\ntr:hover {background-color: #ddd; cursor:pointer}\r\n\r\nth {\r\n  padding-top: 12px;\r\n  padding-bottom: 12px;\r\n  text-align: left;\r\n  background-color: #00A3A6;\r\n  color: white;\r\n  text-transform: capitalize\r\n}\r\n.text_align_right{\r\n    text-align: right;\r\n}\r\n.text_align_left{\r\n    text-align: left;\r\n}\r\n.text_align_center{\r\n    text-align: center;\r\n}"
 },
 {
  "docstatus": 0,
  "doctype": "Custom HTML Block",
  "html": "<div class=\"container\">\r\n    <div class=\"row\">\r\n        <div class=\"col px-2 mr-4 py-2 rounded-lg today\" id=\"today_revenue\">\r\n            <p class=\"text-center font-weight-bold\">Total Revenue</p>\r\n            <div id=\"today_revenue\"></div>\r\n        </div>\r\n        <div class=\"col px-2 mr-4 rounded-lg py-2 mtd\">\r\n             <p class=\"text-center font-weight-bold\">MTD Revenue</p>\r\n             <div id=\"mtd_revenue\"></div>\r\n        </div>\r\n        <div class=\"col px-2 mr-4 rounded-lg py-2 ytd\">\r\n            <p class=\"text-center font-weight-bold \">YTD Revenue</p>\r\n            <div id=\"ytd_revenue\"></div>\r\n        </div>\r\n        <div class=\"col px-2 py-2 rounded-lg total_order\">\r\n             <p class=\"text-center font-weight-bold\">Total Order</p>\r\n            <div >\r\n                <div class=\"d-flex justify-content-between mx-5\"> \r\n                    <span>Today</span> \r\n                    <span id=\"today_order\"></span> \r\n                </div>\r\n                <div class=\"d-flex justify-content-between mx-5\"> \r\n                    <span>MTD</span> \r\n                    <span id=\"mtd_order\"></span> \r\n                </div>\r\n                <div class=\"d-flex justify-content-between mx-5\"> \r\n                    <span>YTD</span> \r\n                    <span id=\"ytd_order\"></span> \r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n",
  "modified": "2023-09-20 15:55:51.725672",
  "name": "Selling Workspace",
  "private": 0,
  "roles": [
   {
    "parent": "Selling Workspace",
    "parentfield": "roles",
    "parenttype": "Custom HTML Block",
    "role": "System Manager"
   },
   {
    "parent": "Selling Workspace",
    "parentfield": "roles",
    "parenttype": "Custom HTML Block",
    "role": "Sales Manager"
   },
   {
    "parent": "Selling Workspace",
    "parentfield": "roles",
    "parenttype": "Custom HTML Block",
    "role": "Sales User"
   }
  ],
  "script": "let today_revenue = root_element.querySelector('#today_revenue');\nlet mtd_revenue = root_element.querySelector('#mtd_revenue');\nlet ytd_revenue = root_element.querySelector('#ytd_revenue');\n\nfrappe.call('epos_multi_currency.utils.get_home_workspace_kpi').then((r)=>{\n\n    r.message.today_revenue.forEach(r=>{\n        let dom = document.createElement('div')\n        dom.classList.add('d-flex');\n        dom.classList.add('justify-content-between');\n        dom.classList.add('mx-5');\n        let label = document.createElement('span')\n        label.textContent=r.currency\n        dom.appendChild(label)\n        \n         let value = document.createElement('span')\n        value.textContent=r.grand_total\n        dom.appendChild(value)\n        today_revenue.appendChild(dom)\n        \n    })\n    r.message.mtd_revenue.forEach(r=>{\n        let dom = document.createElement('div')\n        dom.classList.add('d-flex');\n        dom.classList.add('justify-content-between');\n        dom.classList.add('mx-5');\n        let label = document.createElement('span')\n        label.textContent=r.currency\n        dom.appendChild(label)\n        \n         let value = document.createElement('span')\n        value.textContent=r.grand_total\n        dom.appendChild(value)\n        mtd_revenue.appendChild(dom)\n        \n    })\n    r.message.ytd_revenue.forEach(r=>{\n        let dom = document.createElement('div')\n        dom.classList.add('d-flex');\n        dom.classList.add('justify-content-between');\n        dom.classList.add('mx-5');\n        let label = document.createElement('span')\n        label.textContent=r.currency\n        dom.appendChild(label)\n        \n         let value = document.createElement('span')\n        value.textContent=r.grand_total\n        dom.appendChild(value)\n        ytd_revenue.appendChild(dom)\n        \n    })\n    today_order = root_element.querySelector('#today_order')\n    mtd_order = root_element.querySelector('#mtd_order')\n    ytd_order = root_element.querySelector('#ytd_order')\n    today_order.textContent=r.message.today_order\n    mtd_order.textContent=r.message.mtd_order\n    ytd_order.textContent=r.message.ytd_order\n})",
  "style": ".container{\n    font-family: ui-sans-serif;\n}\n.today{\n    background:#00A3A6;\n    color:#F3F3F3;\n}\n.mtd{\n    background:#00B103;\n    color:#F3F3F3;\n}\n.ytd{\n    background:#FF9E1D;\n    color:#F3F3F3;\n}\n.total_order{\n    background:#C21DFF;\n    color:#F3F3F3;\n}\n.container{\n    font-family: var(--font-stack);\n}\np{\n    font-size:18px;\n}"
 },
 {
  "docstatus": 0,
  "doctype": "Custom HTML Block",
  "html": "<div class=\"widget number-widget-box shadow-sm\" style=\"height:100%\" data-widget-name=\"fd808be705\">\n\t<div class=\"widget-body\">\n\t    <p class=\"text-center font-weight-bold\" style=\"font-size:18px\">Total Revenue</p>\n\t    <div id=\"current-receiveble\"></div>\n\t</div>\n</div>",
  "modified": "2023-09-20 09:22:43.485518",
  "name": "Current Receivable",
  "private": 0,
  "roles": [],
  "script": "let current_receivable = root_element.querySelector('#current-receiveble');\nfrappe.call('epos_multi_currency.utils.get_current_receiveable').then((r)=>{\n        r.message.forEach(r=>{\n        let dom = document.createElement('div')\n        dom.classList.add('d-flex');\n        dom.classList.add('justify-content-between');\n        dom.classList.add('font-weight-bold');\n        dom.classList.add('mx-5');\n        let label = document.createElement('span')\n        label.textContent=r.currency\n        dom.appendChild(label)\n        \n         let value = document.createElement('span')\n        value.textContent=r.total_balance\n        dom.appendChild(value)\n        current_receivable.appendChild(dom)\n        \n    })\n})\n",
  "style": null
 }
]