[
 {
  "docstatus": 0,
  "doctype": "Custom HTML Block",
  "html": "<h2>Tabs</h2>\r\n<p>Click on the buttons inside the tabbed menu:</p>\r\n\r\n<div class=\"tab\">\r\n  <button class=\"tablinks\" id=\"btn_london\">London</button>\r\n  <button class=\"tablinks\" id=\"btn_paris\">Paris</button>\r\n</div>\r\n\r\n<div id=\"london\" class=\"tabcontent\">\r\n  <h3>London</h3>\r\n  <p>London is the capital city of England.</p>\r\n</div>\r\n\r\n<div id=\"paris\" class=\"tabcontent\">\r\n  <h3>Paris</h3>\r\n  <p>Paris is the capital of France.</p> \r\n</div>\r\n\r\n\r\n",
  "modified": "2023-09-14 16:04:34.353975",
  "name": "Test Tab",
  "private": 0,
  "roles": [],
  "script": "let london = root_element.querySelector('#btn_london');\r\nlet paris = root_element.querySelector('#btn_paris');\r\nlondon.addEventListener('click', function(event) {\r\n    openCity(event,'london')\r\n});\r\n\r\nparis.addEventListener('click', function(event) {\r\n    openCity(event,'paris')\r\n});\r\n\r\nfunction openCity(evt, cityName) {\r\n  var i, tabcontent, tablinks;\r\n  tabcontent = $(root_element).find('.tabcontent')\r\n  for (i = 0; i < tabcontent.length; i++) {\r\n    tabcontent[i].style.display = \"none\";\r\n  }\r\n  tablinks = $(root_element).find('.tablinks')\r\n  for (i = 0; i < tablinks.length; i++) {\r\n      \r\n    tablinks[i].className = tablinks[i].className.replace(\" active\", \"\");\r\n  }\r\n  $(root_element).find(\"#\" + cityName).css(\"display\", \"block\");\r\n  \r\n  console.log($(root_element).find(\"#\" + cityName))\r\n  \r\n  evt.currentTarget.className += \" active\";\r\n}",
  "style": "body {font-family: Arial;}\r\n\r\n/* Style the tab */\r\n.tab {\r\n  overflow: hidden;\r\n  border: 1px solid #ccc;\r\n  background-color: #f1f1f1;\r\n}\r\n\r\n/* Style the buttons inside the tab */\r\n.tab button {\r\n  background-color: inherit;\r\n  float: left;\r\n  border: none;\r\n  outline: none;\r\n  cursor: pointer;\r\n  padding: 14px 16px;\r\n  transition: 0.3s;\r\n  font-size: 17px;\r\n}\r\n\r\n/* Change background color of buttons on hover */\r\n.tab button:hover {\r\n  background-color: #ddd;\r\n}\r\n\r\n/* Create an active/current tablink class */\r\n.tab button.active {\r\n  background-color: #ccc;\r\n}\r\n\r\n/* Style the tab content */\r\n.tabcontent {\r\n  display: none;\r\n  padding: 6px 12px;\r\n  border: 1px solid #ccc;\r\n  border-top: none;\r\n}"
 },
 {
  "docstatus": 0,
  "doctype": "Custom HTML Block",
  "html": "<div class=\"container\">\n    <div class=\"row\">\n        <div class=\"col px-2 mr-4 py-2 rounded-lg today\">\n            <p class=\"text-center font-weight-bold\">Total Revenue</p>\n            <div class=\"d-flex\">\n                <span class=\"flex-fill\">Label : </span>\n                <span  class=\"flex-fill\">12$</span>\n            </div>\n            <div class=\"d-flex\">\n                <span class=\"flex-fill\">Label : </span>\n                <span  class=\"flex-fill\">12$</span>\n            </div>\n            <div class=\"d-flex\">\n                 <span class=\"flex-fill\">Label : </span>\n                <span  class=\"flex-fill\">12$</span>\n            </div>\n        </div>\n        <div class=\"col px-2 mr-4 rounded-lg py-2 mtd\">\n             <p class=\"text-center font-weight-bold\">MTD Revenue</p>\n             <div class=\"d-flex\">\n                <span class=\"flex-fill\">Label : </span>\n                <span  class=\"flex-fill\">12$</span>\n            </div>\n            <div class=\"d-flex\">\n                <span class=\"flex-fill\">Label : </span>\n                <span  class=\"flex-fill\">12$</span>\n            </div>\n            <div class=\"d-flex\">\n                 <span class=\"flex-fill\">Label : </span>\n                <span  class=\"flex-fill\">12$</span>\n            </div>\n        </div>\n        <div class=\"col px-2 mr-4 rounded-lg py-2 ytd\">\n            <p class=\"text-center font-weight-bold \">YTD Revenue</p>\n            <div class=\"d-flex\">\n                <span class=\"flex-fill\">Label : </span>\n                <span  class=\"flex-fill\">12$</span>\n            </div>\n            <div class=\"d-flex\">\n                <span class=\"flex-fill\">Label : </span>\n                <span  class=\"flex-fill\">12$</span>\n            </div>\n            <div class=\"d-flex\">\n                 <span class=\"flex-fill\">Label : </span>\n                <span  class=\"flex-fill\">12$</span>\n            </div>\n        </div>\n        <div class=\"col px-2 py-2 rounded-lg total_order\">\n             <p class=\"text-center font-weight-bold\">MTD/YTD Total Order</p>\n             <div class=\"d-flex\">\n                <span class=\"flex-fill\">Label : </span>\n                <span  class=\"flex-fill\">12$</span>\n            </div>\n            <div class=\"d-flex\">\n                <span class=\"flex-fill\">Label : </span>\n                <span  class=\"flex-fill\">12$</span>\n            </div>\n            <div class=\"d-flex\">\n                 <span class=\"flex-fill\">Label : </span>\n                <span  class=\"flex-fill\">12$</span>\n            </div>\n        </div>\n    </div>\n</div>\n",
  "modified": "2023-09-13 10:10:51.094023",
  "name": "Selling Workspace Block",
  "private": 0,
  "roles": [
   {
    "parent": "Selling Workspace Block",
    "parentfield": "roles",
    "parenttype": "Custom HTML Block",
    "role": "System Manager"
   },
   {
    "parent": "Selling Workspace Block",
    "parentfield": "roles",
    "parenttype": "Custom HTML Block",
    "role": "Sales Manager"
   }
  ],
  "script": "let some_class_element = root_element.querySelector('.text-center');\n\nfrappe.db.get_value(\"Sales Invoice\",{name: 'ACC-SINV-2023-00381'},\"customer\",\n\t(r) => {\n\t    some_class_element.textContent (\"11111111111\")\n\t}\n);\n",
  "style": ".container{\n    font-family: ui-sans-serif;\n}\n.today{\n    background:#7AA874;\n}\n.mtd{\n    background:#F7DB6A;\n}\n.ytd{\n    background:#EBB02D;\n}\n.total_order{\n    background:#D864A9;\n}"
 },
 {
  "docstatus": 0,
  "doctype": "Custom HTML Block",
  "html": "\n<div class=\"tab\">\n  <button class=\"tablinks active\" id=\"btn_sale\">Recent Sales</button>\n  <button class=\"tablinks\" id=\"btn_payment\">Recent Sales Payment</button>\n  <button class=\"tablinks\" id=\"btn_return\">Return</button>\n</div>\n\n<div id=\"sale\" class=\"tabcontent\">\n    <div id=\"recent-sale-invoice\">Recent Sale Invoice</div>\n</div>\n\n<div id=\"payment\" class=\"tabcontent\">\n    <div id=\"recent-payment\">Recent Payment</div>\n</div>\n\n<div id=\"return\" class=\"tabcontent\">\n    <div id=\"recent-return\">Return</div>\n</div>\n\n",
  "modified": "2023-09-15 10:18:45.128479",
  "name": "Recent Sales Invoice",
  "private": 1,
  "roles": [],
  "script": "let sale = root_element.querySelector('#btn_sale');\r\nlet payment = root_element.querySelector('#btn_payment');\r\nlet return_invoice = root_element.querySelector('#btn_return');\r\nsale.classList.add('active');\r\n$(root_element).find(\"#sale\").css(\"display\", \"block\");\r\nsale.addEventListener('click', function(event) {\r\n    openCity(event,'sale')\r\n});\r\n\r\npayment.addEventListener('click', function(event) {\r\n    openCity(event,'payment')\r\n});\r\nreturn_invoice.addEventListener('click', function(event) {\r\n    openCity(event,'return')\r\n});\r\n\r\n\r\nfunction openCity(evt, doctype) {\r\n  var i, tabcontent, tablinks;\r\n  tabcontent = $(root_element).find('.tabcontent')\r\n  for (i = 0; i < tabcontent.length; i++) {\r\n    tabcontent[i].style.display = \"none\";\r\n  }\r\n  tablinks = $(root_element).find('.tablinks')\r\n  for (i = 0; i < tablinks.length; i++) {\r\n      \r\n    tablinks[i].className = tablinks[i].className.replace(\" active\", \"\");\r\n  }\r\n  $(root_element).find(\"#\" + doctype).css(\"display\", \"block\");\r\n  \r\n  evt.currentTarget.className += \" active\";\r\n}\r\n\r\nlet table    = document.createElement(\"table\");\r\nlet tbody = document.createElement(\"tbody\");\r\nlet thead = document.createElement(\"thead\");\r\nlet tr = document.createElement(\"tr\");\r\nlet th = document.createElement(\"th\");\r\nlet td = document.createElement(\"td\");\r\n\r\nlet payment_table    = document.createElement(\"table\");\r\nlet payment_tbody = document.createElement(\"tbody\");\r\nlet payment_thead = document.createElement(\"thead\");\r\nlet payment_tr = document.createElement(\"tr\");\r\nlet payment_th = document.createElement(\"th\");\r\nlet payment_td = document.createElement(\"td\");\r\n\r\nlet return_table    = document.createElement(\"table\");\r\nlet return_tbody = document.createElement(\"tbody\");\r\nlet return_thead = document.createElement(\"thead\");\r\nlet return_tr = document.createElement(\"tr\");\r\nlet return_th = document.createElement(\"th\");\r\nlet return_td = document.createElement(\"td\");\r\n\r\n\r\nfrappe.call('epos_multi_currency.utils.get_recent_sale_invoice').then((r)=>{\r\n    for (let key in r.message.sale[0]) {\r\n        if (r.message.sale[0].hasOwnProperty(key)) {\r\n            let value = r.message.sale[key];\r\n            th_currency = document.createElement(\"th\");\r\n            th_currency.textContent = key.replace(/_/g, ' ') \r\n            tr.appendChild(th_currency)\r\n        }\r\n    }\r\n    thead.appendChild(tr)\r\n    r.message.sale.forEach((row)=>{\r\n        let data_row = document.createElement(\"tr\");\r\n        let data_cell_invocie = document.createElement(\"td\");\r\n        let data_cell_date = document.createElement(\"td\");\r\n        \r\n        data_cell_invocie.textContent=row.sales_invoice;\r\n        data_cell_date.textContent=row.sale_date;\r\n        \r\n        for (let key in row) {\r\n            \r\n            if (row.hasOwnProperty(key)) {\r\n                let value = row[key];\r\n                let data_cell_currency = document.createElement(\"td\");\r\n                data_cell_currency.textContent=value;\r\n                data_row.appendChild(data_cell_currency);\r\n            }\r\n        }\r\n        data_row.addEventListener('click', function() {\r\n        \r\n            frappe.set_route('Form', 'Sales Invoice',row.name);\r\n        });\r\n        \r\n        tbody.appendChild(data_row);\r\n    });\r\n    \r\n    // Payment\r\n    \r\n    for (let key in r.message.payment[0]) {\r\n        if (r.message.payment[0].hasOwnProperty(key)) {\r\n            let value = r.message.payment[key];\r\n            let th_currency = document.createElement(\"th\");\r\n            th_currency.textContent = key.replace(/_/g, ' ') \r\n            payment_tr.appendChild(th_currency)\r\n        }\r\n        payment_thead.appendChild(payment_tr)\r\n    }\r\n    payment_table.appendChild(payment_thead);\r\n    r.message.payment.forEach((row)=>{\r\n        let data_row = document.createElement(\"tr\");\r\n        let data_cell_invocie = document.createElement(\"td\");\r\n        let data_cell_date = document.createElement(\"td\");\r\n        \r\n        data_cell_invocie.textContent=row.name;\r\n        data_cell_date.textContent=row.payment_date;\r\n        for (let key in row) {\r\n            if (row.hasOwnProperty(key)) {\r\n                let value = row[key];\r\n                let data_cell_currency = document.createElement(\"td\");\r\n                data_cell_currency.textContent=value;\r\n                data_row.appendChild(data_cell_currency);\r\n            }\r\n        }\r\n        data_row.addEventListener('click', function() {\r\n            frappe.set_route('Form', 'Sales Payment',row.name);\r\n        });\r\n        payment_tbody.appendChild(data_row);\r\n    });\r\n\r\n    // Return\r\n    for (let key in r.message.sale_return[0]) {\r\n        if (r.message.sale_return[0].hasOwnProperty(key)) {\r\n            let value = r.message.sale[key];\r\n            th_currency = document.createElement(\"th\");\r\n            th_currency.textContent = key.replace(/_/g, ' ') ;\r\n            return_tr.appendChild(th_currency);\r\n        }\r\n    }\r\n    return_thead.appendChild(return_tr)\r\n    r.message.sale_return.forEach((row)=>{\r\n        console.log(r.message.sale_return)\r\n        let data_row = document.createElement(\"tr\");\r\n        let data_cell_invocie = document.createElement(\"td\");\r\n        let data_cell_date = document.createElement(\"td\");\r\n        \r\n        data_cell_invocie.textContent=row.name;\r\n        data_cell_date.textContent=row.return_date;\r\n        for (let key in row) {\r\n            \r\n            if (row.hasOwnProperty(key)) {\r\n                let value = row[key];\r\n                let data_cell_currency = document.createElement(\"td\");\r\n                data_cell_currency.textContent=value;\r\n                data_row.appendChild(data_cell_currency);\r\n            }\r\n        }\r\n        data_row.addEventListener('click', function() {\r\n        \r\n            frappe.set_route('Form', 'Sales Invoice',row.name)\r\n        });\r\n        return_tbody.appendChild(data_row)\r\n    })\r\n})\r\n\r\ntable.appendChild(thead)\r\ntable.appendChild(tbody)\r\npayment_table.appendChild(payment_tbody)\r\nreturn_table.appendChild(return_thead)\r\nreturn_table.appendChild(return_tbody)\r\nlet recentSale = root_element.querySelector('#recent-sale-invoice');\r\nlet recentPayment = root_element.querySelector('#recent-payment');\r\nlet recentReturn = root_element.querySelector('#recent-return');\r\n\r\nrecentSale.innerHTML = \"\"\r\nrecentPayment.innerHTML = \"\"\r\nrecentReturn.innerHTML = \"\"\r\nrecentSale.appendChild(table);\r\nrecentPayment.appendChild(payment_table);\r\nrecentReturn.appendChild(return_table);",
  "style": "body {font-family: Arial;}\r\n\r\n/* Style the tab */\r\n.tab {\r\n  overflow: hidden;\r\n  border: 1px solid #ccc;\r\n  background-color: #f1f1f1;\r\n}\r\n\r\n/* Style the buttons inside the tab */\r\n.tab button {\r\n  background-color: inherit;\r\n  float: left;\r\n  border: none;\r\n  outline: none;\r\n  cursor: pointer;\r\n  padding: 14px 16px;\r\n  transition: 0.3s;\r\n  font-size: 17px;\r\n}\r\n\r\n/* Change background color of buttons on hover */\r\n.tab button:hover {\r\n  background-color: #ddd;\r\n}\r\n\r\n/* Create an active/current tablink class */\r\n.tab button.active {\r\n  background-color: #ccc;\r\n}\r\n\r\n/* Style the tab content */\r\n.tabcontent {\r\n  display: none;\r\n  padding: 6px 12px;\r\n  border: 1px solid #ccc;\r\n  border-top: none;\r\n}\r\n\r\ntable{\r\n    width:100%;\r\n}\r\n td,th {\r\n  border: 1px solid #ddd;\r\n  padding: 8px;\r\n}\r\n\r\ntr:nth-child(even){background-color: #f2f2f2;}\r\n\r\ntr:hover {background-color: #ddd; cursor:pointer}\r\n\r\nth {\r\n  padding-top: 12px;\r\n  padding-bottom: 12px;\r\n  text-align: left;\r\n  background-color: #009b69a8;\r\n  color: white;\r\n  text-transform: capitalize\r\n}"
 },
 {
  "docstatus": 0,
  "doctype": "Custom HTML Block",
  "html": "<div class=\"container\">\r\n    <div class=\"row\">\r\n        <div class=\"col px-2 mr-4 py-2 rounded-lg today\" id=\"today_revenue\">\r\n            <p class=\"text-center font-weight-bold\">Total Revenue</p>\r\n            <div id=\"today_revenue\"></div>\r\n        </div>\r\n        <div class=\"col px-2 mr-4 rounded-lg py-2 mtd\">\r\n             <p class=\"text-center font-weight-bold\">MTD Revenue</p>\r\n             <div id=\"mtd_revenue\"></div>\r\n        </div>\r\n        <div class=\"col px-2 mr-4 rounded-lg py-2 ytd\">\r\n            <p class=\"text-center text-center font-weight-bold \">YTD Revenue</p>\r\n            <div id=\"ytd_revenue\"></div>\r\n        </div>\r\n        <div class=\"col px-2 py-2 rounded-lg total_order\">\r\n             <p class=\"text-center  text-center font-weight-bold\">MTD/YTD Total Order</p>\r\n            <div class=\"d-flex justify-content-between\">\r\n                <span id=\"mtd_total_order\"></span>\r\n                <span>/</span>\r\n                <span id=\"ytd_total_order\"></span>\r\n            </div>\r\n            \r\n        </div>\r\n    </div>\r\n</div>\r\n",
  "modified": "2023-09-13 14:45:45.286807",
  "name": "Selling Workspace",
  "private": 0,
  "roles": [
   {
    "parent": "Selling Workspace",
    "parentfield": "roles",
    "parenttype": "Custom HTML Block",
    "role": "System Manager"
   },
   {
    "parent": "Selling Workspace",
    "parentfield": "roles",
    "parenttype": "Custom HTML Block",
    "role": "Sales Manager"
   },
   {
    "parent": "Selling Workspace",
    "parentfield": "roles",
    "parenttype": "Custom HTML Block",
    "role": "Sales User"
   }
  ],
  "script": "let today_revenue = root_element.querySelector('#today_revenue');\nlet mtd_revenue = root_element.querySelector('#mtd_revenue');\nlet ytd_revenue = root_element.querySelector('#ytd_revenue');\n\nfrappe.call('epos_multi_currency.utils.get_home_workspace_kpi').then((r)=>{\n\n    r.message.today_revenue.forEach(r=>{\n        let dom = document.createElement('div')\n        dom.classList.add('d-flex');\n        dom.classList.add('justify-content-around');\n        let label = document.createElement('span')\n        label.textContent=r.currency\n        dom.appendChild(label)\n        \n         let value = document.createElement('span')\n        value.textContent=r.grand_total\n        dom.appendChild(value)\n        today_revenue.appendChild(dom)\n        \n    })\n    r.message.mtd_revenue.forEach(r=>{\n        let dom = document.createElement('div')\n        dom.classList.add('d-flex');\n        dom.classList.add('justify-content-around');\n        let label = document.createElement('span')\n        label.textContent=r.currency\n        dom.appendChild(label)\n        \n         let value = document.createElement('span')\n        value.textContent=r.grand_total\n        dom.appendChild(value)\n        mtd_revenue.appendChild(dom)\n        \n    })\n    r.message.ytd_revenue.forEach(r=>{\n        let dom = document.createElement('div')\n        dom.classList.add('d-flex');\n        dom.classList.add('justify-content-around');\n        let label = document.createElement('span')\n        label.textContent=r.currency\n        dom.appendChild(label)\n        \n         let value = document.createElement('span')\n        value.textContent=r.grand_total\n        dom.appendChild(value)\n        ytd_revenue.appendChild(dom)\n        \n    })\n    mtd_total_order = root_element.querySelector('#mtd_total_order')\n    ytd_total_order = root_element.querySelector('#ytd_total_order')\n    mtd_total_order.textContent=r.message.mtd_order\n    ytd_total_order.textContent=r.message.ytd_order\n})",
  "style": ".container{\n    font-family: ui-sans-serif;\n}\n.today{\n    background:#00A3A6;\n    color:#F3F3F3;\n}\n.mtd{\n    background:#00B103;\n    color:#F3F3F3;\n}\n.ytd{\n    background:#FF9E1D;\n    color:#F3F3F3;\n}\n.total_order{\n    background:#C21DFF;\n    color:#F3F3F3;\n}"
 },
 {
  "docstatus": 0,
  "doctype": "Custom HTML Block",
  "html": "<div class=\"widget number-widget-box shadow-sm\" style=\"height:100%\" data-widget-name=\"fd808be705\">\n\t<div class=\"widget-head\">\n\t\t<div class=\"widget-label\">\n\t\t\t<div class=\"widget-title\"><span class=\"ellipsis\" title=\"Current Receivable\">Current Receivable</span></div>\n\t\t\t<div class=\"widget-subtitle\"></div>\n\t\t</div>\n\t\t<div class=\"widget-control\"><div class=\"card-actions dropdown pull-right\">\n\t\t\n\t</div></div>\n\t</div>\n\t<div class=\"widget-body\">\n\t    <div id=\"current-receiveble\">\n\t        \n\t    </div>\n\t    \n\t    \n\t</div>\n</div>",
  "modified": "2023-09-14 13:42:40.241535",
  "name": "Current Receivable",
  "private": 0,
  "roles": [],
  "script": "let current_receivable = root_element.querySelector('#current-receiveble');\nfrappe.call('epos_multi_currency.utils.get_current_receiveable').then((r)=>{\n        r.message.forEach(r=>{\n        let dom = document.createElement('div')\n        dom.classList.add('d-flex');\n        dom.classList.add('justify-content-around');\n        dom.classList.add('font-weight-bold');\n        let label = document.createElement('span')\n        label.textContent=r.currency\n        dom.appendChild(label)\n        \n         let value = document.createElement('span')\n        value.textContent=r.total_balance\n        dom.appendChild(value)\n        current_receivable.appendChild(dom)\n        \n    })\n})\n",
  "style": null
 }
]